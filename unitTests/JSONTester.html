<!DOCTYPE html>
<html >
    <head>
    </head>
    <body>
    <script src="../scripts/MathStatsAndMisc.js"></script>
    <script>
     function jsObjectAPI(src, target, modify, operation=1) {
         
         let jsObjects =   JSObjects() ;
         switch (operation){
             case  1: jsObjects.deepCopy(src, target, modify);
                 break;
             case 2:  jsObjects.deepModify(src, modify);
                 break;
            }
   
     }
     let simpleObject = [1,2,3, '143214234'];
     let simpleModify = [{key: 'simpleObject', operation: '-', operand: '1'}];
        let simpleTarget=[];
    jsObjectAPI(simpleObject, simpleTarget, simpleModify) ;
        console.log('Simple Array',simpleObject)
        console.log('Original object',simpleObject)
        console.log('Copied and Modified',simpleTarget);
    jsObjectAPI(simpleObject, null, simpleModify, 2) ;
         console.log('Original object modified',simpleObject)
        
     let testObject = [
            { x: 3, y: { a:1, b:2}, z: [1,2,3,4, {L: 'A', M:[4,5,6,7, {N: 'ANNA'}]}]},
            { x: 4, y: { a:3, b:4}, z: [5,6,7, {N: 'CHRISTA'}]},
            { x: 5, y: { a:5, b:6}, z: [8,9,10]},
            { x: 6, y: { a:7, b:8}, z: [11,12,13,14]},
                       ];
   let copyToNonModified = [] ; 
   let copyTo = [] ; 
   let keymodifiers = [{key: 'x', operation: '+', operand: '1'},
                       {key: 'z', operation: '*', operand: '5'}, 
                       {key: 'L', operation: 'concat', operand: '5'} ,
                       {key: 'M', operation: '/', operand: '5'} ,
                       {key: 'N', operation: 'concat', operand: 'BELLE'}
                      ];
        jsObjectAPI(testObject, copyToNonModified, null) ;
        console.log('Complex object copied NOT modified', copyToNonModified);
        jsObjectAPI(testObject, copyTo, keymodifiers) ;
        console.log('Complex object copied and modified', copyTo);
    let keymodifiers2 = [{key: 'x', operation: '+', operand: '1'},
                       {key: 'z', operation: '*', operand: '5'}, 
                       {key: 'L', operation: 'concat', operand: '5'} ,
                       {key: 'M', operation: '/', operand: '5'} ,
                       {key: 'N', operation: 'concat', operand: 'BELLE'}
                      ];
  jsObjectAPI(testObject, null, keymodifiers2,2) ;
        console.log('Complex object  modified', testObject);
    </script>
    </body>
